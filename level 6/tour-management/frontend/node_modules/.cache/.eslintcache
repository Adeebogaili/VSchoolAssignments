[{"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/index.js":"1","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/App.js":"2","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Layout/Layout.jsx":"3","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Header/Header.jsx":"4","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Footer/Footer.jsx":"5","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/router/Routers.js":"6","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/pages/Home.jsx":"7","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/pages/Tours.jsx":"8","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/pages/TourDetails.jsx":"9","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/pages/Login.jsx":"10","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/pages/Register.jsx":"11","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/pages/SearchResultList.jsx":"12","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/shared/Subtitle.jsx":"13","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/shared/SearchBar.jsx":"14","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/services/ServiceList.jsx":"15","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/services/ServiceCard.jsx":"16","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Featured-tours/FeaturedTourList.jsx":"17","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/shared/TourCard.jsx":"18","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/assets/data/tours.js":"19","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/utils/avgRating.js":"20","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Image-gallery/MasonaryImagesGallery.jsx":"21","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Image-gallery/galleryImages.js":"22","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Testimonial/Testimonials.jsx":"23","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/shared/NewsLetter.jsx":"24","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/shared/CommonSection.jsx":"25","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Booking/Booking.jsx":"26","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/pages/ThankYou.jsx":"27","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/utils/config.js":"28","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/hooks/useFetch.js":"29","/home/adeeb/development/assignments/level 6/tour-management/frontend/src/context/AuthContext.js":"30"},{"size":621,"mtime":1680897016409,"results":"31","hashOfConfig":"32"},{"size":132,"mtime":1680911241509,"results":"33","hashOfConfig":"32"},{"size":312,"mtime":1680704198841,"results":"34","hashOfConfig":"32"},{"size":3490,"mtime":1680905669369,"results":"35","hashOfConfig":"32"},{"size":4238,"mtime":1680719717371,"results":"36","hashOfConfig":"32"},{"size":960,"mtime":1680726596671,"results":"37","hashOfConfig":"32"},{"size":5606,"mtime":1680915264909,"results":"38","hashOfConfig":"32"},{"size":2159,"mtime":1680911324069,"results":"39","hashOfConfig":"32"},{"size":7651,"mtime":1680903166089,"results":"40","hashOfConfig":"32"},{"size":3187,"mtime":1680899143579,"results":"41","hashOfConfig":"32"},{"size":3397,"mtime":1680898330359,"results":"42","hashOfConfig":"32"},{"size":1021,"mtime":1680888134369,"results":"43","hashOfConfig":"32"},{"size":165,"mtime":1680628010247,"results":"44","hashOfConfig":"32"},{"size":2655,"mtime":1680811640349,"results":"45","hashOfConfig":"32"},{"size":1266,"mtime":1680915034029,"results":"46","hashOfConfig":"32"},{"size":390,"mtime":1680913911829,"results":"47","hashOfConfig":"32"},{"size":740,"mtime":1680910342059,"results":"48","hashOfConfig":"32"},{"size":1783,"mtime":1680905115139,"results":"49","hashOfConfig":"32"},{"size":3325,"mtime":1680708102901,"results":"50","hashOfConfig":"32"},{"size":428,"mtime":1680642668647,"results":"51","hashOfConfig":"32"},{"size":687,"mtime":1680644955557,"results":"52","hashOfConfig":"32"},{"size":631,"mtime":1680644207337,"results":"53","hashOfConfig":"32"},{"size":2658,"mtime":1680650316417,"results":"54","hashOfConfig":"32"},{"size":1152,"mtime":1680650834167,"results":"55","hashOfConfig":"32"},{"size":410,"mtime":1680811968969,"results":"56","hashOfConfig":"32"},{"size":4202,"mtime":1680904154439,"results":"57","hashOfConfig":"32"},{"size":847,"mtime":1680904265289,"results":"58","hashOfConfig":"32"},{"size":54,"mtime":1680809199959,"results":"59","hashOfConfig":"32"},{"size":758,"mtime":1680810945229,"results":"60","hashOfConfig":"32"},{"size":1517,"mtime":1680897910839,"results":"61","hashOfConfig":"32"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1kav9wz",{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"91"},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"104","messages":"105","suppressedMessages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","suppressedMessages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"110","messages":"111","suppressedMessages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","suppressedMessages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","suppressedMessages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","suppressedMessages":"121","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"122","messages":"123","suppressedMessages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"125","messages":"126","suppressedMessages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"128","messages":"129","suppressedMessages":"130","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"131","messages":"132","suppressedMessages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"134","messages":"135","suppressedMessages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"137","messages":"138","suppressedMessages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","suppressedMessages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"143","messages":"144","suppressedMessages":"145","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"146","messages":"147","suppressedMessages":"148","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"149","messages":"150","suppressedMessages":"151","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","suppressedMessages":"154","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/index.js",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/App.js",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Layout/Layout.jsx",[],[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Header/Header.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Footer/Footer.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/router/Routers.js",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/pages/Home.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/pages/Tours.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/pages/TourDetails.jsx",["155"],[],"import React, { useEffect, useRef, useState, useContext } from 'react';\r\nimport '../styles/tour-details.css';\r\nimport { Container, Row, Col, Form, ListGroup, List } from 'reactstrap';\r\nimport { useParams } from 'react-router-dom';\r\nimport calculateAvgRating from './../utils/avgRating';\r\nimport avatar from '../assets/images/avatar.jpg';\r\nimport Booking from '../components/Booking/Booking';\r\nimport Newsletter from '../shared/NewsLetter';\r\nimport useFetch from '../hooks/useFetch';\r\nimport { BASE_URL } from '../utils/config';\r\nimport { AuthContext } from './../context/AuthContext';\r\n\r\nconst TourDetails = () => {\r\n  const { id } = useParams();\r\n\r\n  const reviewMsgRef = useRef();\r\n\r\n  const [tourRating, setTourRating] = useState(null);\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  // fetch data from database\r\n  const { data: tour, loading, error } = useFetch(`${BASE_URL}/tours/${id}`);\r\n\r\n  // destructure properties from tour object\r\n  const {\r\n    photo,\r\n    title,\r\n    desc,\r\n    price,\r\n    address,\r\n    reviews,\r\n    city,\r\n    distance,\r\n    maxGroupSize,\r\n  } = tour;\r\n\r\n  const { totalRating, avgRating } = calculateAvgRating(reviews);\r\n\r\n  //format date\r\n  const options = { day: 'numeric', month: 'long', year: 'numeric' };\r\n\r\n  // submit reuest to the server\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const reviewText = reviewMsgRef.current.value;\r\n\r\n    try {\r\n      if (!user || user === undefined || user === null) {\r\n        alert('Please sign in');\r\n      }\r\n\r\n      const reviewObj = {\r\n        username: user?.username,\r\n        reviewText,\r\n        rating: tourRating,\r\n      };\r\n      const res = await fetch(`${BASE_URL}/review/${id}`, {\r\n        method: 'post',\r\n        headers: {\r\n          'content-type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(reviewObj),\r\n      });\r\n\r\n      const result = await res.json();\r\n\r\n      if (!res.ok) {\r\n        return alert(result.message);\r\n      }\r\n\r\n      alert(result.message);\r\n    } catch (err) {\r\n      alert(err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [tour]);\r\n\r\n  return (\r\n    <>\r\n      <section>\r\n        <Container>\r\n          {loading && <h4 className='text-center pt-5'>Loading...</h4>}\r\n          {error && <h4 className='text-center pt-5'>{error}</h4>}\r\n          {!loading && !error && (\r\n            <Row>\r\n              <Col lg='8'>\r\n                <div className='tour__content'>\r\n                  <img src={photo} alt={title} />\r\n                  <div className='tour__info'>\r\n                    <h2>{title}</h2>\r\n                    <div className='d-flex align-items-center gap-5'>\r\n                      <span className='tour__rating d-flex align-items-center justify-content-between gap-1'>\r\n                        <i\r\n                          className='ri-star-fill'\r\n                          style={{ color: 'var(--secondary-color' }}\r\n                        ></i>{' '}\r\n                        {avgRating === 0 ? null : avgRating}\r\n                        {totalRating === 0 ? (\r\n                          'Not rated'\r\n                        ) : (\r\n                          <span>({reviews?.length})</span>\r\n                        )}\r\n                      </span>\r\n                      <span>\r\n                        <i className='ri-map-pin-user-fill'></i> {address}\r\n                      </span>\r\n                    </div>\r\n                    <div className='tour__extra-details'>\r\n                      <span>\r\n                        <i className='ri-map-pin-2-line'></i> {city}\r\n                      </span>\r\n                      <span>\r\n                        <i className='ri-money-dollar-circle-line'></i> ${price}\r\n                        /person\r\n                      </span>\r\n                      <span>\r\n                        <i className='ri-map-pin-time-line'></i> {distance} k/m\r\n                      </span>\r\n                      <span>\r\n                        <i className='ri-group-line'></i> {maxGroupSize} people\r\n                      </span>\r\n                    </div>\r\n                    <h5>Description</h5>\r\n                    <p>{desc}</p>\r\n                  </div>\r\n                  {/* tour reviews section start*/}\r\n                  <div className='tour__reviews mt-4'>\r\n                    <h4>Reviews ({reviews?.length} reviews)</h4>\r\n\r\n                    <Form onSubmit={handleSubmit}>\r\n                      <div className='rating__group d-flex align-items-center gap-3'>\r\n                        <span onClick={() => setTourRating(1)}>\r\n                          1 <i className='ri-star-s-fill'></i>\r\n                        </span>\r\n                        <span onClick={() => setTourRating(2)}>\r\n                          2 <i className='ri-star-s-fill'></i>\r\n                        </span>\r\n                        <span onClick={() => setTourRating(3)}>\r\n                          3 <i className='ri-star-s-fill'></i>\r\n                        </span>\r\n                        <span onClick={() => setTourRating(4)}>\r\n                          4 <i className='ri-star-s-fill'></i>\r\n                        </span>\r\n                        <span onClick={() => setTourRating(5)}>\r\n                          5 <i className='ri-star-s-fill'></i>\r\n                        </span>\r\n                      </div>\r\n\r\n                      <div className='review__input'>\r\n                        <input\r\n                          type='text'\r\n                          ref={reviewMsgRef}\r\n                          placeholder='share your thoughts'\r\n                          required\r\n                        />\r\n                        <button\r\n                          className='btn primary__btn text-white'\r\n                          type='submit'\r\n                        >\r\n                          Submit\r\n                        </button>\r\n                      </div>\r\n                    </Form>\r\n\r\n                    <ListGroup className='user__reviews'>\r\n                      {reviews?.map((review, index) => (\r\n                        <div className='review__item' key={index}>\r\n                          <img src={avatar} alt='' />\r\n\r\n                          <div className='w-100'>\r\n                            <div className='d-flex align-items-center justify-content-between'>\r\n                              <div>\r\n                                <h5>{review.username}</h5>\r\n                                <p>\r\n                                  {new Date(review.createdAt).toLocaleDateString(\r\n                                    'en-US',\r\n                                    options\r\n                                  )}\r\n                                </p>\r\n                              </div>\r\n                              <span className='d-flex align-items-center'>\r\n                                {review.rating}\r\n                                <i className='ri-star-s-fill'></i>\r\n                              </span>\r\n                            </div>\r\n                            <h6>{review.reviewText}</h6>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </ListGroup>\r\n                  </div>\r\n                  {/* tour reviews section end*/}\r\n                </div>\r\n              </Col>\r\n\r\n              <Col lg='4'>\r\n                <Booking tour={tour} avgRating={avgRating} />\r\n              </Col>\r\n            </Row>\r\n          )}\r\n        </Container>\r\n      </section>\r\n      <Newsletter />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TourDetails;\r\n",[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/pages/Login.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/pages/Register.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/pages/SearchResultList.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/shared/Subtitle.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/shared/SearchBar.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/services/ServiceList.jsx",["156"],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/services/ServiceCard.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Featured-tours/FeaturedTourList.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/shared/TourCard.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/assets/data/tours.js",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/utils/avgRating.js",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Image-gallery/MasonaryImagesGallery.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Image-gallery/galleryImages.js",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Testimonial/Testimonials.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/shared/NewsLetter.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/shared/CommonSection.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/components/Booking/Booking.jsx",["157"],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/pages/ThankYou.jsx",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/utils/config.js",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/hooks/useFetch.js",[],[],"/home/adeeb/development/assignments/level 6/tour-management/frontend/src/context/AuthContext.js",[],[],{"ruleId":"158","severity":1,"message":"159","line":3,"column":48,"nodeType":"160","messageId":"161","endLine":3,"endColumn":52},{"ruleId":"158","severity":1,"message":"162","line":8,"column":8,"nodeType":"160","messageId":"161","endLine":8,"endColumn":14},{"ruleId":"158","severity":1,"message":"159","line":9,"column":3,"nodeType":"160","messageId":"161","endLine":9,"endColumn":7},"no-unused-vars","'List' is defined but never used.","Identifier","unusedVar","'trophy' is defined but never used."]